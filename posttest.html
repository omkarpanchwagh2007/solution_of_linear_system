<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Posttest - Linear System Solver | PCCOE Virtual Labs</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f8f9fa;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles - Matching other pages */
        header {
            background: linear-gradient(135deg, #2c3e50, #1a2530);
            color: white;
            padding: 15px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-section {
            display: flex;
            align-items: center;
            gap: 25px;
        }

        .pcce-logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
            padding-right: 25px;
            border-right: 2px solid rgba(255, 255, 255, 0.2);
        }

        .pcce-logo-img {
            width: 60px;
            height: 60px;
            object-fit: contain;
            border-radius: 8px;
            background-color: white;
            padding: 5px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .pcce-logo-text {
            display: flex;
            flex-direction: column;
        }

        .pcce-logo-text .main {
            font-size: 20px;
            font-weight: 700;
            color: #fff;
            line-height: 1.2;
        }

        .pcce-logo-text .sub {
            font-size: 12px;
            color: #ecf0f1;
            opacity: 0.9;
            margin-top: 2px;
        }

        .virtual-labs-logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .virtual-labs-logo i {
            font-size: 32px;
            color: #3498db;
        }

        .virtual-labs-logo h1 {
            font-size: 26px;
            font-weight: 600;
        }

        .virtual-labs-logo span {
            color: #3498db;
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .user-info i {
            font-size: 20px;
            color: #3498db;
        }

        /* Navigation Menu */
        .nav-menu {
            background: #2c3e50;
            padding: 10px 0;
            margin-top: 0;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-menu ul {
            display: flex;
            list-style: none;
            gap: 30px;
            justify-content: center;
        }

        .nav-menu a {
            color: rgba(255, 255, 255, 0.9);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 0.95rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .nav-menu a:hover,
        .nav-menu a.active {
            color: white;
            background: rgba(255, 255, 255, 0.1);
        }

        /* Main Content */
        .main-content {
            padding: 40px 0;
        }

        .content-header {
            background: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            margin-bottom: 30px;
        }

        .breadcrumb {
            font-size: 14px;
            color: #7f8c8d;
            margin-bottom: 15px;
        }

        .breadcrumb a {
            color: #3498db;
            text-decoration: none;
        }

        .breadcrumb span {
            margin: 0 5px;
        }

        .content-header h2 {
            font-size: 28px;
            color: #2c3e50;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .content-header p {
            color: #7f8c8d;
            font-size: 1.1rem;
        }

        /* Test Container */
        .test-container {
            background: white;
            border-radius: 8px;
            padding: 40px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            margin-bottom: 40px;
        }

        .test-info {
            background: #e8f4fc;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 5px solid #3498db;
        }

        .test-info p {
            margin-bottom: 10px;
            color: #2c3e50;
            font-size: 1rem;
        }

        .test-info strong {
            color: #3498db;
        }

        /* Questions */
        .question-container {
            margin-bottom: 40px;
        }

        .question {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 25px;
            border: 1px solid #e9ecef;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #dee2e6;
        }

        .question-number {
            font-size: 20px;
            font-weight: 600;
            color: #2c3e50;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .question-number i {
            color: #3498db;
        }

        .question-marks {
            background: #3498db;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
        }

        .question-text {
            font-size: 1.1rem;
            color: #2c3e50;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .question-text code {
            background: #e9ecef;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            color: #d63384;
        }

        /* Matrix Display Styles - FIXED */
        .matrix-display {
            display: inline-block;
            margin: 10px 0;
            position: relative;
            padding: 0 25px;
            font-family: 'Courier New', monospace;
            font-size: 1rem;
        }

        .matrix-bracket-left,
        .matrix-bracket-right {
            position: absolute;
            top: 0;
            height: 100%;
            font-size: 2.5rem;
            font-weight: bold;
            color: #495057;
            display: flex;
            align-items: center;
        }

        .matrix-bracket-left {
            left: 0;
        }

        .matrix-bracket-right {
            right: 0;
        }

        .matrix-content {
            padding: 10px 5px;
            background: white;
            border-radius: 4px;
            border: 1px solid #dee2e6;
        }

        .matrix-row {
            display: flex;
            justify-content: center;
            gap: 25px;
            margin: 8px 0;
            padding: 2px 10px;
        }

        .matrix-element {
            min-width: 30px;
            text-align: center;
            padding: 2px 10px;
            font-weight: 600;
            font-size: 1.1rem;
            color: #2c3e50;
        }

        .matrix-container {
            display: flex;
            align-items: center;
            margin: 15px 0;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 6px;
            border: 1px solid #e9ecef;
        }

        .equation-container {
            display: flex;
            align-items: center;
            gap: 20px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .matrix-label {
            font-weight: 600;
            color: #2c3e50;
            margin-right: 10px;
            font-size: 1.1rem;
        }

        /* Options */
        .options-container {
            margin-top: 20px;
        }

        .option {
            margin-bottom: 12px;
            display: flex;
            align-items: flex-start;
        }

        .option-input {
            margin-right: 12px;
            margin-top: 5px;
        }

        .option-label {
            font-size: 1rem;
            color: #495057;
            line-height: 1.5;
            cursor: pointer;
        }

        /* Input for calculation questions */
        .calculation-input {
            width: 200px;
            padding: 10px 15px;
            border: 2px solid #ced4da;
            border-radius: 6px;
            font-size: 1rem;
            margin-top: 10px;
            transition: all 0.3s ease;
        }

        .calculation-input:focus {
            border-color: #3498db;
            outline: none;
            box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
        }

        /* Submit Button */
        .submit-container {
            text-align: center;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid #dee2e6;
        }

        .submit-btn {
            background: linear-gradient(to right, #28a745, #20c997);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 18px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 12px;
        }

        .submit-btn:hover {
            background: linear-gradient(to right, #218838, #1ea085);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(40, 167, 69, 0.3);
        }

        .submit-btn:disabled {
            background: #6c757d;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Results Section */
        .results-container {
            background: white;
            border-radius: 8px;
            padding: 40px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            margin-top: 40px;
            display: none;
        }

        .results-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .results-header h3 {
            font-size: 32px;
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .results-header p {
            color: #6c757d;
            font-size: 1.1rem;
        }

        /* Score Display */
        .score-display {
            background: linear-gradient(135deg, #e8f4fc, #f0f7ff);
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            margin-bottom: 40px;
            border: 2px solid #3498db;
        }

        .score-value {
            font-size: 72px;
            font-weight: 800;
            color: #3498db;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .score-text {
            font-size: 24px;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .score-percentage {
            font-size: 20px;
            color: #6c757d;
        }

        /* Answer Review */
        .answer-review {
            margin-top: 30px;
        }

        .answer-item {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 4px solid #dee2e6;
        }

        .answer-item.correct {
            border-left-color: #28a745;
            background: #f0fff4;
        }

        .answer-item.incorrect {
            border-left-color: #dc3545;
            background: #fff5f5;
        }

        .answer-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .answer-question {
            font-weight: 600;
            color: #2c3e50;
            font-size: 1.1rem;
        }

        .answer-status {
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 14px;
        }

        .answer-status.correct {
            background: #d4edda;
            color: #155724;
        }

        .answer-status.incorrect {
            background: #f8d7da;
            color: #721c24;
        }

        .user-answer, .correct-answer {
            margin-top: 10px;
            padding: 10px;
            border-radius: 6px;
            font-weight: 500;
        }

        .user-answer {
            background: #e9ecef;
            color: #495057;
        }

        .correct-answer {
            background: #d4edda;
            color: #155724;
            margin-top: 10px;
        }

        .explanation {
            margin-top: 15px;
            padding: 15px;
            background: #fff3cd;
            border-radius: 6px;
            color: #856404;
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* Footer */
        footer {
            margin-top: 40px;
            padding: 20px 0;
            text-align: center;
            color: #7f8c8d;
            font-size: 14px;
            border-top: 1px solid #eee;
            background: white;
            border-radius: 8px 8px 0 0;
        }

        .footer-logo {
            display: inline-block;
            margin: 0 5px;
            font-weight: bold;
            color: #2c3e50;
        }

        /* Responsive Design */
        @media (max-width: 992px) {
            .header-container {
                flex-direction: column;
                gap: 20px;
                text-align: center;
            }
            
            .logo-section {
                flex-direction: column;
                gap: 20px;
                width: 100%;
            }
            
            .pcce-logo-container {
                border-right: none;
                padding-right: 0;
                border-bottom: 2px solid rgba(255, 255, 255, 0.2);
                padding-bottom: 20px;
                justify-content: center;
                width: 100%;
            }
            
            .virtual-labs-logo {
                justify-content: center;
            }
            
            .nav-menu ul {
                flex-wrap: wrap;
                gap: 15px;
            }
        }

        @media (max-width: 768px) {
            .test-container, .results-container {
                padding: 25px;
            }
            
            .content-header h2 {
                font-size: 24px;
            }
            
            .question {
                padding: 20px;
            }
            
            .score-value {
                font-size: 60px;
            }
            
            .pcce-logo-container {
                flex-direction: column;
                text-align: center;
            }
            
            .pcce-logo-img {
                width: 70px;
                height: 70px;
            }
            
            .matrix-container {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .equation-container {
                flex-direction: column;
                align-items: flex-start;
            }
            
            .matrix-row {
                gap: 15px;
            }
            
            .matrix-bracket-left,
            .matrix-bracket-right {
                font-size: 2rem;
            }
        }

        @media (max-width: 576px) {
            .test-container, .results-container {
                padding: 20px;
            }
            
            .content-header {
                padding: 20px;
            }
            
            .question-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            
            .score-value {
                font-size: 48px;
            }
            
            .submit-btn {
                width: 100%;
                justify-content: center;
            }
            
            .matrix-row {
                gap: 10px;
            }
            
            .matrix-element {
                min-width: 25px;
                font-size: 1rem;
            }
            
            .matrix-bracket-left,
            .matrix-bracket-right {
                font-size: 1.8rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-container">
            <div class="logo-section">
                <!-- PCOE Logo -->
                <div class="pcce-logo-container">
                    <img src="https://raw.githubusercontent.com/dineshkute90/virtual_lab_LAUC/main/pccoe.png" 
                         alt="PCOE Logo" 
                         class="pcce-logo-img"
                         id="pcceLogo"
                         onerror="this.onerror=null; this.src='https://via.placeholder.com/60x60/2c3e50/ffffff?text=PCOE';">
                    <div class="pcce-logo-text">
                        <div class="main">APPLIED SCIENCES & HUMANITIES</div>
                        <div class="sub">Pimpri Chinchwad College of Engineering</div>
                    </div>
                </div>
                
                <!-- Virtual Labs Logo -->
                <div class="virtual-labs-logo">
                    <i class="fas fa-flask"></i>
                    <h1>Virtual <span>Labs</span></h1>
                </div>
            </div>
            
            <div class="user-info">
                <i class="fas fa-user-circle"></i>
                <span>Welcome, Student</span>
            </div>
        </div>

        <!-- Navigation Menu -->
        <nav class="nav-menu">
            <div class="container">
                <ul>
                    <li><a href="index.html"><i class="fas fa-home"></i> Home</a></li>
                    <li><a href="aim.html"><i class="fas fa-bullseye"></i> Aim</a></li>
                    <li><a href="theory.html"><i class="fas fa-book"></i> Theory</a></li>
                    <li><a href="pretest.html"><i class="fas fa-question-circle"></i> Pretest</a></li>
                    <li><a href="simulation.html"><i class="fas fa-calculator"></i> Simulation</a></li>
                    <li><a href="posttest.html" class="active"><i class="fas fa-clipboard-check"></i> Posttest</a></li>
                    <li><a href="feedback.html"><i class="fas fa-comment-alt"></i> Feedback</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="container main-content">
        <!-- Content Header -->
        <div class="content-header">
            <div class="breadcrumb">
                <a href="index.html">Home</a> <span>></span> Posttest
            </div>
            <h2>Posttest Assessment</h2>
            <p>Test your understanding of Linear System Solver concepts after completing the virtual lab</p>
        </div>

        <!-- Test Container -->
        <div class="test-container">
            <div class="test-info">
                <p><strong>Instructions:</strong> Answer all 5 questions. Each question is worth 2 marks. For calculation questions, enter the numerical answer in the provided box.</p>
                <p><strong>Time:</strong> This test should be completed within 15 minutes.</p>
                <p><strong>Scoring:</strong> You will receive your score and detailed answer explanations after submission.</p>
            </div>

            <form id="posttestForm">
                <!-- Question 1 -->
                <div class="question">
                    <div class="question-header">
                        <div class="question-number">
                            <i class="fas fa-calculator"></i> Question 1
                        </div>
                        <div class="question-marks">2 Marks</div>
                    </div>
                    <div class="question-text">
                        Solve the following system of linear equations using Gaussian elimination:
                        <div class="equation-container">
                            <div>2x + 3y = 8</div>
                            <div>4x - y = 2</div>
                        </div>
                        What is the value of y?
                    </div>
                    <div class="options-container">
                        <input type="number" id="q1" name="q1" class="calculation-input" placeholder="Enter your answer" step="any">
                    </div>
                </div>

                <!-- Question 2 -->
                <div class="question">
                    <div class="question-header">
                        <div class="question-number">
                            <i class="fas fa-calculator"></i> Question 2
                        </div>
                        <div class="question-marks">2 Marks</div>
                    </div>
                    <div class="question-text">
                        For the matrix A below, what is the rank of matrix A?
                        <div class="matrix-container">
                            <span class="matrix-label">A =</span>
                            <div class="matrix-display">
                                <span class="matrix-bracket-left">[</span>
                                <div class="matrix-content">
                                    <div class="matrix-row">
                                        <span class="matrix-element">1</span>
                                        <span class="matrix-element">2</span>
                                        <span class="matrix-element">3</span>
                                    </div>
                                    <div class="matrix-row">
                                        <span class="matrix-element">4</span>
                                        <span class="matrix-element">5</span>
                                        <span class="matrix-element">6</span>
                                    </div>
                                    <div class="matrix-row">
                                        <span class="matrix-element">7</span>
                                        <span class="matrix-element">8</span>
                                        <span class="matrix-element">9</span>
                                    </div>
                                </div>
                                <span class="matrix-bracket-right">]</span>
                            </div>
                        </div>
                    </div>
                    <div class="options-container">
                        <div class="option">
                            <input type="radio" id="q2a" name="q2" value="1" class="option-input">
                            <label for="q2a" class="option-label">1</label>
                        </div>
                        <div class="option">
                            <input type="radio" id="q2b" name="q2" value="2" class="option-input">
                            <label for="q2b" class="option-label">2</label>
                        </div>
                        <div class="option">
                            <input type="radio" id="q2c" name="q2" value="3" class="option-input">
                            <label for="q2c" class="option-label">3</label>
                        </div>
                        <div class="option">
                            <input type="radio" id="q2d" name="q2" value="0" class="option-input">
                            <label for="q2d" class="option-label">0</label>
                        </div>
                    </div>
                </div>

                <!-- Question 3 -->
                <div class="question">
                    <div class="question-header">
                        <div class="question-number">
                            <i class="fas fa-calculator"></i> Question 3
                        </div>
                        <div class="question-marks">2 Marks</div>
                    </div>
                    <div class="question-text">
                        Calculate the determinant of the following matrix:
                        <div class="matrix-container">
                            <span class="matrix-label">M =</span>
                            <div class="matrix-display">
                                <span class="matrix-bracket-left">[</span>
                                <div class="matrix-content">
                                    <div class="matrix-row">
                                        <span class="matrix-element">3</span>
                                        <span class="matrix-element">1</span>
                                        <span class="matrix-element">4</span>
                                    </div>
                                    <div class="matrix-row">
                                        <span class="matrix-element">1</span>
                                        <span class="matrix-element">5</span>
                                        <span class="matrix-element">9</span>
                                    </div>
                                    <div class="matrix-row">
                                        <span class="matrix-element">2</span>
                                        <span class="matrix-element">6</span>
                                        <span class="matrix-element">5</span>
                                    </div>
                                </div>
                                <span class="matrix-bracket-right">]</span>
                            </div>
                        </div>
                    </div>
                    <div class="options-container">
                        <input type="number" id="q3" name="q3" class="calculation-input" placeholder="Enter your answer" step="any">
                    </div>
                </div>

                <!-- Question 4 -->
                <div class="question">
                    <div class="question-header">
                        <div class="question-number">
                            <i class="fas fa-calculator"></i> Question 4
                        </div>
                        <div class="question-marks">2 Marks</div>
                    </div>
                    <div class="question-text">
                        Which of the following statements about Gaussian elimination is TRUE?
                    </div>
                    <div class="options-container">
                        <div class="option">
                            <input type="radio" id="q4a" name="q4" value="a" class="option-input">
                            <label for="q4a" class="option-label">It only works for square matrices</label>
                        </div>
                        <div class="option">
                            <input type="radio" id="q4b" name="q4" value="b" class="option-input">
                            <label for="q4b" class="option-label">It converts a matrix to reduced row echelon form</label>
                        </div>
                        <div class="option">
                            <input type="radio" id="q4c" name="q4" value="c" class="option-input">
                            <label for="q4c" class="option-label">It cannot handle systems with infinite solutions</label>
                        </div>
                        <div class="option">
                            <input type="radio" id="q4d" name="q4" value="d" class="option-input">
                            <label for="q4d" class="option-label">It always preserves integer results when inputs are integers</label>
                        </div>
                    </div>
                </div>

                <!-- Question 5 -->
                <div class="question">
                    <div class="question-header">
                        <div class="question-number">
                            <i class="fas fa-calculator"></i> Question 5
                        </div>
                        <div class="question-marks">2 Marks</div>
                    </div>
                    <div class="question-text">
                        Solve for x in the equation: A × x = B where
                        <div class="equation-container">
                            <div class="matrix-container">
                                <span class="matrix-label">A =</span>
                                <div class="matrix-display">
                                    <span class="matrix-bracket-left">[</span>
                                    <div class="matrix-content">
                                        <div class="matrix-row">
                                            <span class="matrix-element">2</span>
                                            <span class="matrix-element">1</span>
                                        </div>
                                        <div class="matrix-row">
                                            <span class="matrix-element">1</span>
                                            <span class="matrix-element">3</span>
                                        </div>
                                    </div>
                                    <span class="matrix-bracket-right">]</span>
                                </div>
                            </div>
                            <span style="font-size: 1.5rem; font-weight: bold;">×</span>
                            <div style="display: flex; align-items: center;">
                                <span style="font-weight: bold; margin-right: 10px;">x =</span>
                                <div class="matrix-display">
                                    <span class="matrix-bracket-left">[</span>
                                    <div class="matrix-content">
                                        <div class="matrix-row">
                                            <span class="matrix-element">5</span>
                                        </div>
                                        <div class="matrix-row">
                                            <span class="matrix-element">11</span>
                                        </div>
                                    </div>
                                    <span class="matrix-bracket-right">]</span>
                                </div>
                            </div>
                        </div>
                        What is the value of the first element x₁?
                    </div>
                    <div class="options-container">
                        <input type="number" id="q5" name="q5" class="calculation-input" placeholder="Enter your answer" step="any">
                    </div>
                </div>

                <!-- Submit Button -->
                <div class="submit-container">
                    <button type="submit" class="submit-btn" id="submitBtn">
                        <i class="fas fa-paper-plane"></i> Submit Test
                    </button>
                </div>
            </form>
        </div>

        <!-- Results Container -->
        <div class="results-container" id="resultsContainer">
            <div class="results-header">
                <h3>Test Results</h3>
                <p>Review your answers and see explanations below</p>
            </div>

            <!-- Score Display -->
            <div class="score-display">
                <div class="score-value" id="scoreValue">0/10</div>
                <div class="score-text" id="scoreText">Your Score</div>
                <div class="score-percentage" id="scorePercentage">0%</div>
            </div>

            <!-- Answer Review -->
            <div class="answer-review" id="answerReview">
                <!-- Answers will be dynamically inserted here -->
            </div>

            <!-- Action Buttons -->
            <div class="submit-container">
                <button class="submit-btn" onclick="retakeTest()" style="background: linear-gradient(to right, #ffc107, #fd7e14);">
                    <i class="fas fa-redo"></i> Retake Test
                </button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="container">
        <p>Virtual Labs &copy; 2025 | Applied Sciences & Humanities Department | 
           <span class="footer-logo">Pimpri Chinchwad College of Engineering</span>
        </p>
    </footer>

    <script>
        // Correct answers and explanations
        const correctAnswers = {
            q1: 2, // y = 2
            q2: "2", // Rank is 2
            q3: -90, // Determinant = -90
            q4: "b", // Gaussian elimination converts to reduced row echelon form
            q5: 0.8 // x₁ = 0.8
        };

        const explanations = {
            q1: "Step-by-step solution:<br>1) Given: 2x + 3y = 8 and 4x - y = 2<br>2) Multiply first equation by 2: 4x + 6y = 16<br>3) Subtract second equation: (4x + 6y) - (4x - y) = 16 - 2<br>4) Simplify: 7y = 14<br>5) Therefore: y = 2",
            q2: "The rank is 2 because:<br>1) Row3 = Row1 + 2 × Row2<br>2) Specifically: 7 = 1 + 2×3, 8 = 2 + 2×3, 9 = 3 + 2×3<br>3) This means the third row is a linear combination of the first two rows<br>4) Since the first two rows are linearly independent, the rank is 2",
            q3: "Determinant calculation using cofactor expansion:<br>det = 3 × (5×5 - 9×6) - 1 × (1×5 - 9×2) + 4 × (1×6 - 5×2)<br>= 3 × (25 - 54) - 1 × (5 - 18) + 4 × (6 - 10)<br>= 3 × (-29) - 1 × (-13) + 4 × (-4)<br>= -87 + 13 - 16<br>= -90",
            q4: "Gaussian elimination is an algorithm for solving systems of linear equations by transforming the augmented matrix into reduced row echelon form through elementary row operations (swap rows, multiply row by scalar, add multiple of one row to another).",
            q5: "Solving the system 2x₁ + x₂ = 5 and x₁ + 3x₂ = 11:<br>1) Multiply second equation by 2: 2x₁ + 6x₂ = 22<br>2) Subtract first equation: (2x₁ + 6x₂) - (2x₁ + x₂) = 22 - 5<br>3) Simplify: 5x₂ = 17 → x₂ = 3.4<br>4) Substitute into second equation: x₁ + 3×3.4 = 11<br>5) Solve: x₁ = 11 - 10.2 = 0.8<br>Thus, x₁ = 0.8"
        };

        document.addEventListener('DOMContentLoaded', function() {
            const logoImg = document.getElementById('pcceLogo');
            
            logoImg.onload = function() {
                console.log('✓ PCOE logo loaded successfully');
            };
            
            logoImg.onerror = function() {
                console.log('✗ PCOE logo failed to load, using fallback');
            };
            
            // Set active navigation based on current page
            const currentPage = window.location.pathname.split('/').pop();
            const navLinks = document.querySelectorAll('.nav-menu a');
            
            navLinks.forEach(link => {
                const linkHref = link.getAttribute('href');
                if (linkHref === currentPage) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
            
            // Form submission
            const form = document.getElementById('posttestForm');
            const submitBtn = document.getElementById('submitBtn');
            const resultsContainer = document.getElementById('resultsContainer');
            const answerReview = document.getElementById('answerReview');
            const scoreValue = document.getElementById('scoreValue');
            const scoreText = document.getElementById('scoreText');
            const scorePercentage = document.getElementById('scorePercentage');
            
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                let score = 0;
                let totalQuestions = Object.keys(correctAnswers).length;
                let userAnswers = {};
                
                // Clear previous results
                answerReview.innerHTML = '';
                
                // Check each question
                Object.keys(correctAnswers).forEach(questionId => {
                    const userAnswer = getUserAnswer(questionId);
                    const correctAnswer = correctAnswers[questionId];
                    const isCorrect = checkAnswer(userAnswer, correctAnswer);
                    
                    userAnswers[questionId] = {
                        answer: userAnswer,
                        correct: isCorrect,
                        correctAnswer: correctAnswer
                    };
                    
                    if (isCorrect) {
                        score += 2; // Each question is worth 2 marks
                    }
                    
                    // Create answer review item
                    const answerItem = document.createElement('div');
                    answerItem.className = `answer-item ${isCorrect ? 'correct' : 'incorrect'}`;
                    
                    let userAnswerDisplay = userAnswer !== null && userAnswer !== '' ? userAnswer : 'Not answered';
                    let correctAnswerDisplay = correctAnswer;
                    
                    // Format display for decimal numbers
                    if (typeof correctAnswer === 'number' && !Number.isInteger(correctAnswer)) {
                        correctAnswerDisplay = correctAnswer.toFixed(1);
                    }
                    if (typeof userAnswer === 'string' && userAnswer !== '' && !isNaN(userAnswer) && userAnswer.includes('.')) {
                        userAnswerDisplay = parseFloat(userAnswer).toFixed(1);
                    }
                    
                    answerItem.innerHTML = `
                        <div class="answer-header">
                            <div class="answer-question">Question ${questionId.replace('q', '')}</div>
                            <div class="answer-status ${isCorrect ? 'correct' : 'incorrect'}">
                                ${isCorrect ? '✓ Correct' : '✗ Incorrect'} (${isCorrect ? '2' : '0'} marks)
                            </div>
                        </div>
                        <div class="user-answer"><strong>Your answer:</strong> ${userAnswerDisplay}</div>
                        ${!isCorrect ? `<div class="correct-answer"><strong>Correct answer:</strong> ${correctAnswerDisplay}</div>` : ''}
                        <div class="explanation">${explanations[questionId]}</div>
                    `;
                    
                    answerReview.appendChild(answerItem);
                });
                
                // Calculate percentage
                const percentage = Math.round((score / (totalQuestions * 2)) * 100);
                
                // Update score display
                scoreValue.textContent = `${score}/10`;
                scorePercentage.textContent = `${percentage}%`;
                
                // Set score text based on performance
                if (percentage >= 80) {
                    scoreText.textContent = 'Excellent!';
                    scoreText.style.color = '#28a745';
                } else if (percentage >= 60) {
                    scoreText.textContent = 'Good Job!';
                    scoreText.style.color = '#ffc107';
                } else if (percentage >= 40) {
                    scoreText.textContent = 'Fair';
                    scoreText.style.color = '#fd7e14';
                } else {
                    scoreText.textContent = 'Needs Improvement';
                    scoreText.style.color = '#dc3545';
                }
                
                // Show results
                resultsContainer.style.display = 'block';
                
                // Scroll to results
                resultsContainer.scrollIntoView({ behavior: 'smooth' });
                
                // Disable submit button
                submitBtn.disabled = true;
                submitBtn.innerHTML = '<i class="fas fa-check"></i> Submitted';
            });
            
            function getUserAnswer(questionId) {
                const element = document.querySelector(`[name="${questionId}"]`);
                
                if (element.type === 'radio') {
                    const selected = document.querySelector(`[name="${questionId}"]:checked`);
                    return selected ? selected.value : null;
                } else {
                    return element.value.trim();
                }
            }
            
            function checkAnswer(userAnswer, correctAnswer) {
                if (userAnswer === null || userAnswer === '') {
                    return false;
                }
                
                // For numerical answers, allow some tolerance and compare as numbers
                if (typeof correctAnswer === 'number') {
                    const userNum = parseFloat(userAnswer);
                    if (isNaN(userNum)) return false;
                    
                    // Allow tolerance of 0.01 for floating point comparisons
                    return Math.abs(userNum - correctAnswer) < 0.01;
                }
                
                // For string answers, compare directly
                return userAnswer === correctAnswer.toString();
            }
        });
        
        function retakeTest() {
            // Reset form
            document.getElementById('posttestForm').reset();
            
            // Hide results
            document.getElementById('resultsContainer').style.display = 'none';
            
            // Enable submit button
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = false;
            submitBtn.innerHTML = '<i class="fas fa-paper-plane"></i> Submit Test';
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>